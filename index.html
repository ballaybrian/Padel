<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PADEL â€” Web App</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- Firebase (compat CDN) -->
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <script defer src="app.js"></script>
</head>

<body>
  <header class="topbar">
    <div class="brand">ðŸŽ¾ <b>PADEL</b></div>
    <nav class="tabs">
      <button class="tab active" data-view="score">Score</button>
      <button class="tab" data-view="players">Joueurs</button>
      <button class="tab" data-view="history">Historique</button>
    </nav>
  </header>

  <main class="container">

    <!-- SCORE -->
    <section id="view-score" class="view">
      <h1>Compteur de match (2 vs 2)</h1>

      <div class="card">
        <h2>Cloud (Firebase)</h2>
        <div class="grid2">
          <label>
            Group ID (mÃªme pour tÃ©lÃ©phone + montre)
            <input id="groupId" type="text" placeholder="club1" />
          </label>

          <div class="statusBox">
            <div class="small">Statut</div>
            <div id="statusText" class="statusText">â€¦</div>
            <div id="lockText" class="small muted">Lock: â€¦</div>
          </div>
        </div>
        <p class="muted">Mets <b>club1</b> si tu es seul. La montre doit utiliser le mÃªme Group ID.</p>
      </div>

      <div class="card">
        <h2>Choix des joueurs</h2>

        <div class="grid2">
          <div>
            <h3>Ã‰quipe A</h3>
            <label>Joueur A1
              <select id="a1"></select>
            </label>
            <label>Joueur A2
              <select id="a2"></select>
            </label>
          </div>

          <div>
            <h3>Ã‰quipe B</h3>
            <label>Joueur B1
              <select id="b1"></select>
            </label>
            <label>Joueur B2
              <select id="b2"></select>
            </label>
          </div>
        </div>

        <div class="grid2">
          <label>Sets gagnants
            <select id="bestOf">
              <option value="3">2 sets gagnants (Best of 3)</option>
              <option value="5">3 sets gagnants (Best of 5)</option>
            </select>
          </label>

          <label>Jeu dÃ©cisif (tie-break Ã  6-6)
            <select id="tiebreak">
              <option value="true">Oui</option>
              <option value="false">Non</option>
            </select>
          </label>

          <label>Mode
            <select id="mode">
              <option value="gamesets">Jeux + sets (NO-AD)</option>
              <option value="tiebreak">Tie-break only</option>
            </select>
          </label>

          <label>Service (info)
            <select id="server">
              <option value="A">Ã‰quipe A</option>
              <option value="B">Ã‰quipe B</option>
            </select>
          </label>
        </div>

        <div class="actionsRow">
          <button id="btnStart" class="primary">DÃ©marrer match (Cloud)</button>
          <button id="btnStop" class="danger">ArrÃªter (effacer activeMatch)</button>
        </div>

        <p id="hintStart" class="muted">Choisis 4 joueurs (2 par Ã©quipe).</p>
      </div>

      <div class="card">
        <h2>Score (LIVE depuis Firestore)</h2>

        <div class="scoreGrid">
          <div class="teamCard">
            <div class="teamName" id="teamAName">Ã‰quipe A</div>
            <div class="bigNums">
              <div>
                <div class="small muted">sets</div>
                <div id="setsA" class="num">0</div>
              </div>
              <div>
                <div class="small muted">jeux</div>
                <div id="gamesA" class="num">0</div>
              </div>
            </div>

            <div class="pointsLine">
              <div class="pointsLabel">points</div>
              <div id="pointsA" class="points">0</div>
            </div>

            <button id="btnPointA" class="primary">+1 point (A)</button>
          </div>

          <div class="teamCard">
            <div class="teamName" id="teamBName">Ã‰quipe B</div>
            <div class="bigNums">
              <div>
                <div class="small muted">sets</div>
                <div id="setsB" class="num">0</div>
              </div>
              <div>
                <div class="small muted">jeux</div>
                <div id="gamesB" class="num">0</div>
              </div>
            </div>

            <div class="pointsLine">
              <div class="pointsLabel">points</div>
              <div id="pointsB" class="points">0</div>
            </div>

            <button id="btnPointB" class="primary">+1 point (B)</button>
          </div>
        </div>

        <div class="actionsRow">
          <button id="btnUndo" class="ghost">Annuler dernier point</button>
          <button id="btnFinish" class="ghost">Terminer (DONE)</button>
        </div>

        <div class="actionsRow">
          <button id="btnArchive" class="ghost">Archiver dans lâ€™historique</button>
        </div>

        <div id="watchInfo" class="okline muted">â€”</div>
      </div>
    </section>

    <!-- PLAYERS -->
    <section id="view-players" class="view hidden">
      <h1>Joueurs</h1>

      <div class="card">
        <h2>Ajouter un joueur</h2>
        <div class="grid2">
          <label>Nom
            <input id="playerName" placeholder="Ex: Brian Dupont" />
          </label>
          <label>Niveau
            <select id="playerLevel">
              <option value="1">N1</option>
              <option value="2">N2</option>
              <option value="3">N3</option>
              <option value="4" selected>N4</option>
              <option value="5">N5</option>
            </select>
          </label>
        </div>
        <button id="btnAddPlayer" class="primary">Ajouter</button>
      </div>

      <div class="card">
        <h2>Liste des joueurs</h2>
        <div id="playersList" class="list"></div>
      </div>
    </section>

    <!-- HISTORY -->
    <section id="view-history" class="view hidden">
      <h1>Historique</h1>
      <div class="card">
        <h2>Matchs archivÃ©s</h2>
        <div id="historyList" class="list"></div>
      </div>
    </section>
  </main>

  <footer class="footer muted">
    PADEL â€¢ GitHub Pages â€¢ Firestore
  </footer>
</body>
</html>
